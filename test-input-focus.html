<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¾“å…¥æ¡†ç„¦ç‚¹æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .input-field {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 5px 0;
            font-size: 14px;
        }
        .input-field:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .btn-primary {
            background-color: #2563eb;
            color: white;
        }
        .btn-secondary {
            background-color: #6b7280;
            color: white;
        }
        .log {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }
        .success { color: #22c55e; }
        .error { color: #ef4444; }
        .info { color: #3b82f6; }
        .warning { color: #f59e0b; }
    </style>
</head>
<body>
    <h1>ğŸ”§ è¾“å…¥æ¡†ç„¦ç‚¹æµ‹è¯•é¡µé¢</h1>
    
    <div class="test-section">
        <h2>ğŸ“ åŸºç¡€è¾“å…¥æµ‹è¯•</h2>
        <p>è¯·åœ¨ä¸‹é¢çš„è¾“å…¥æ¡†ä¸­è¿ç»­è¾“å…¥å¤šä¸ªå­—ç¬¦ï¼Œæµ‹è¯•æ˜¯å¦ä¼šå¤±å»ç„¦ç‚¹ï¼š</p>
        
        <label>å§“å:</label>
        <input type="text" class="input-field" placeholder="è¯·è¾“å…¥å§“å" id="name-input">
        
        <label>é‚®ç®±:</label>
        <input type="email" class="input-field" placeholder="è¯·è¾“å…¥é‚®ç®±" id="email-input">
        
        <label>ç”µè¯:</label>
        <input type="tel" class="input-field" placeholder="è¯·è¾“å…¥ç”µè¯" id="phone-input">
        
        <label>æè¿°:</label>
        <textarea class="input-field" rows="3" placeholder="è¯·è¾“å…¥æè¿°" id="desc-input"></textarea>
    </div>

    <div class="test-section">
        <h2>ğŸ¯ æ¨¡æ‹Ÿå‘˜å·¥ç®¡ç†è¡¨å•</h2>
        <form id="staff-form">
            <label>ç”¨æˆ·å:</label>
            <input type="text" class="input-field" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" id="username">
            
            <label>å¯†ç :</label>
            <input type="password" class="input-field" placeholder="è¯·è¾“å…¥å¯†ç " id="password">
            
            <label>å§“å:</label>
            <input type="text" class="input-field" placeholder="è¯·è¾“å…¥å§“å" id="fullname">
            
            <label>é‚®ç®±:</label>
            <input type="email" class="input-field" placeholder="è¯·è¾“å…¥é‚®ç®±" id="email">
            
            <label>ç”µè¯:</label>
            <input type="tel" class="input-field" placeholder="è¯·è¾“å…¥ç”µè¯" id="phone">
            
            <div style="margin-top: 15px;">
                <button type="button" class="btn btn-secondary" onclick="resetForm()">é‡ç½®</button>
                <button type="submit" class="btn btn-primary">æäº¤</button>
            </div>
        </form>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š å®æ—¶æµ‹è¯•ç»“æœ</h2>
        <div id="test-log" class="log"></div>
        <button class="btn btn-secondary" onclick="clearLog()">æ¸…ç©ºæ—¥å¿—</button>
        <button class="btn btn-primary" onclick="runAutoTest()">è¿è¡Œè‡ªåŠ¨æµ‹è¯•</button>
    </div>

    <script>
        let testLog = [];
        let focusEvents = [];

        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = `[${timestamp}] ${message}`;
            testLog.push(logEntry);
            
            const logDiv = document.getElementById('test-log');
            const logLine = document.createElement('div');
            logLine.className = type;
            logLine.textContent = logEntry;
            logDiv.appendChild(logLine);
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        function clearLog() {
            testLog = [];
            focusEvents = [];
            document.getElementById('test-log').innerHTML = '';
        }

        function resetForm() {
            document.getElementById('staff-form').reset();
            log('è¡¨å•å·²é‡ç½®', 'info');
        }

        // ç›‘å¬æ‰€æœ‰è¾“å…¥æ¡†çš„ç„¦ç‚¹äº‹ä»¶
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input, textarea');
            
            inputs.forEach((input, index) => {
                input.addEventListener('focus', () => {
                    const event = {
                        type: 'focus',
                        element: input.id || `input-${index}`,
                        time: Date.now()
                    };
                    focusEvents.push(event);
                    log(`âœ… ç„¦ç‚¹è·å¾—: ${event.element}`, 'success');
                });

                input.addEventListener('blur', () => {
                    const event = {
                        type: 'blur',
                        element: input.id || `input-${index}`,
                        time: Date.now()
                    };
                    focusEvents.push(event);
                    log(`âŒ ç„¦ç‚¹å¤±å»: ${event.element}`, 'warning');
                });

                input.addEventListener('input', (e) => {
                    const value = e.target.value;
                    log(`ğŸ“ è¾“å…¥å†…å®¹: ${input.id || `input-${index}`} = "${value}"`, 'info');
                    
                    // æ£€æŸ¥æ˜¯å¦åœ¨è¾“å…¥è¿‡ç¨‹ä¸­å¤±å»ç„¦ç‚¹
                    setTimeout(() => {
                        if (document.activeElement !== input) {
                            log(`âš ï¸  è­¦å‘Š: è¾“å…¥è¿‡ç¨‹ä¸­å¤±å»ç„¦ç‚¹! ${input.id || `input-${index}`}`, 'error');
                        }
                    }, 10);
                });
            });
        });

        // è¡¨å•æäº¤å¤„ç†
        document.getElementById('staff-form').addEventListener('submit', function(e) {
            e.preventDefault();
            log('ğŸ“¤ è¡¨å•æäº¤ (å·²é˜»æ­¢å®é™…æäº¤)', 'success');
            
            // æ¨¡æ‹ŸçŠ¶æ€æ›´æ–°
            setTimeout(() => {
                log('ğŸ”„ æ¨¡æ‹ŸçŠ¶æ€æ›´æ–°å®Œæˆ', 'info');
            }, 100);
        });

        // è‡ªåŠ¨æµ‹è¯•å‡½æ•°
        function runAutoTest() {
            log('ğŸš€ å¼€å§‹è‡ªåŠ¨æµ‹è¯•...', 'info');
            
            const testInputs = [
                { id: 'username', value: 'æµ‹è¯•ç”¨æˆ·123' },
                { id: 'password', value: 'password123' },
                { id: 'fullname', value: 'å¼ ä¸‰æå››' },
                { id: 'email', value: 'test@example.com' },
                { id: 'phone', value: '13800138000' }
            ];

            let currentTest = 0;
            
            function runNextTest() {
                if (currentTest >= testInputs.length) {
                    log('âœ… è‡ªåŠ¨æµ‹è¯•å®Œæˆ!', 'success');
                    return;
                }

                const test = testInputs[currentTest];
                const input = document.getElementById(test.id);
                
                if (input) {
                    log(`ğŸ¯ æµ‹è¯•è¾“å…¥æ¡†: ${test.id}`, 'info');
                    input.focus();
                    
                    // æ¨¡æ‹Ÿé€å­—ç¬¦è¾“å…¥
                    let charIndex = 0;
                    const typeChar = () => {
                        if (charIndex < test.value.length) {
                            input.value = test.value.substring(0, charIndex + 1);
                            input.dispatchEvent(new Event('input', { bubbles: true }));
                            charIndex++;
                            setTimeout(typeChar, 100);
                        } else {
                            currentTest++;
                            setTimeout(runNextTest, 500);
                        }
                    };
                    
                    setTimeout(typeChar, 200);
                } else {
                    log(`âŒ æ‰¾ä¸åˆ°è¾“å…¥æ¡†: ${test.id}`, 'error');
                    currentTest++;
                    setTimeout(runNextTest, 100);
                }
            }
            
            runNextTest();
        }

        log('ğŸ”§ è¾“å…¥æ¡†ç„¦ç‚¹æµ‹è¯•é¡µé¢å·²åŠ è½½', 'success');
        log('ğŸ’¡ è¯·æ‰‹åŠ¨æµ‹è¯•è¾“å…¥æ¡†ï¼Œæˆ–ç‚¹å‡»"è¿è¡Œè‡ªåŠ¨æµ‹è¯•"', 'info');
    </script>
</body>
</html>
